<div class="tasks-count " routerLink="/dashboard">
  <p> <img src="../../../assets/icons/tasks-white.png" width="23" height="23">
    Tasks</p>
  <p>{{totalTasksCount}}</p>
</div>
<br>

<mat-accordion>
  <mat-expansion-panel #panel [expanded]="true" class="projects">
    <mat-expansion-panel-header>
      <div class="d-flex justify-content-between w-100 align-items-center">
        <div class="d-flex align-items-center">
          <span class="project-text fw-bold ">Projects</span>
        </div>

        <div class="icons d-flex align-items-center gap-2">
          <fa-icon [icon]="faPlus" class="cursor-pointer plus"
            (click)="openModal(addProjectModal); $event.stopPropagation()">
          </fa-icon>

          <mat-icon>
            {{ panel.expanded ? 'expand_less' : 'expand_more' }}
          </mat-icon>
        </div>
      </div>
    </mat-expansion-panel-header>

    <div class="mt-1" *ngIf="projects">
      <ul class="btn-toggle-nav list-unstyled fw-normal small mb-2" *ngFor="let project of projects">

        <li>
          <div class="hover-effect d-flex align-items-center justify-content-between">
            <a [routerLink]="['/projects', project.projectID]"
              class="text-decoration-none d-flex justify-content-between align-items-center">
              <span class="d-flex align-items-center">
                <span class="bullet me-2" [ngStyle]="{ 'background-color': project.projectColor }"></span>
                {{project.projectName}}
              </span>
            </a>
            <span class="count-wrapper">
              <span class="normal-count">{{getTaskCountForProject(project.projectID)}}</span>
              <button class="hover-count" [matMenuTriggerFor]="menu" tabindex="0"><img
                  src="../../../assets/icons/Settings-horizontal-min.png" width="15">
              </button>
            </span>
          </div>
        </li>

        <mat-menu #menu="matMenu" class="hover-actions">
          <button mat-menu-item>Edit</button>
          <button mat-menu-item
            (click)="openModalDeleteProjectConfirmation(deleteProjectConfirmation, project.projectID)">Delete</button>
        </mat-menu>


<<<<<<< Updated upstream
=======
        <!-- <li *ngFor="let project of projects" [value]="projects">
          <a routerLink="/projects" class="text-decoration-none d-flex justify-content-between align-items-center">
            <span class="d-flex align-items-center">
              <span class="bullet me-2" ></span>
              {{project}}
            </span>
            <span class="count">5</span>
          </a>
        </li> -->

        <!-- <li>
          <a routerLink="/projects" class="text-decoration-none d-flex justify-content-between align-items-center">
            <span class="d-flex align-items-center">
              <span class="bullet me-2"></span>
              eCommerce
            </span>
            <span class="count">2</span>
          </a>
        </li>
       -->

>>>>>>> Stashed changes
      </ul>
    </div>


  </mat-expansion-panel>

</mat-accordion>

<!-- MODAL FOR ADDING PROJECT -->
<ng-template #addProjectModal let-c="close" let-d="dismiss">
  <div class="modal modal-sheet d-block " tabindex="-1" role="dialog" id="modalSignin">
    <div class="modal-dialog" role="document">
      <div class="modal-content rounded-4 shadow">
        <div class="modal-header p-5 pb-4 border-bottom-0">
          <h1 class="fw-bold mb-0 fs-2">Add Project</h1>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"
            (click)="d('Cross click')"></button>
        </div>

        <div class="modal-body p-5 pt-0">
<<<<<<< Updated upstream
          <form class="" (ngSubmit)="addProject()">    
=======
          <form class="">
>>>>>>> Stashed changes
            <div class="row ">
              <label class="form-label " for="addProjectName"> Project Name</label>

              <mat-form-field class="bg-color bg-color-option" appearance="fill" floatLabel="never">
                <input matInput placeholder="Enter project name" id="addProjectName" name="addProjectName" type="text" [(ngModel)]="addNewProjectRequest.projectName">
                <!-- [(ngModel)]="projectName" -->
              </mat-form-field>
            </div>

            <div class="row">
              <div class="col">
                <p class="label m-0">Color</p>

<<<<<<< Updated upstream
                <mat-form-field appearance="fill" class="form-label w-100 bg-color bg-color-option" floatLabel="never" >
                  <mat-select id="addProjectColor"  name="addProjectColor"  [(ngModel)]="addNewProjectRequest.projectColor" >
=======
                <mat-form-field appearance="fill" class="form-label w-100 bg-color bg-color-option" floatLabel="never">
                  <mat-select id="plusTaskPriority" name="priorityLevel">
>>>>>>> Stashed changes

                    <mat-select-trigger>
                      <span class="bullet" [ngClass]="getStatusClass(addNewProjectRequest.projectColor)"></span> 
                      {{ addNewProjectRequest.projectColor }}
                    </mat-select-trigger>

                    <mat-option value="Charcoal">
                      <span class="bullet-drop bullet-charcoal"></span>
                      Charcoal
                    </mat-option>

                    <mat-option value="Yellow">
                      <span class="bullet-drop bullet-yellow"></span>
                      Yellow
                    </mat-option>

                    <mat-option value="Green">
                      <span class="bullet-drop bullet-green"></span>
                      Green
                    </mat-option>

                    <mat-option value="Pink">
                      <span class="bullet-drop bullet-pink"></span>
                      Pink
                    </mat-option>

                  </mat-select>
                </mat-form-field>
              </div>

            </div>

            <div class="modal-buttons d-flex align-items-center justify-content-end">
              <div class="cancel-btn mx-1">
                <button (click)="c()" type="button" class="btn btn-outline-dark cancel-btn">Cancel</button>
              </div>

              <div class="add-btn mx-1">
                <button type="submit" class="btn btn-dark confirm-btn">Add</button>
              </div>
            </div>
          </form>

        </div>
      </div>
    </div>
  </div>
</ng-template>

<!-- DELETE TASK MODAL -->
<ng-template #deleteProjectConfirmation let-c="close" let-d="dismiss">
  <div class="modal modal-sheet d-block d-flex align-items-center " tabindex="-1" role="dialog" id="modalAddTaskTbl">
    <div class="modal-dialog custom-modal" role="document">
      <div class="modal-content dtl-content rounded-4 shadow">
        <div class="modal-header p-4 pb-1 d-flex align-items-center justify-content-center">
          <h6 class="modal-title fw-bold mb-3 text-center">Confirmation</h6>
        </div>

        <div class="modal-body pt-4">
          <div class="d-flex flex-column align-items-center justify-content-between">
            <img src="../../../assets/icons/Warning-min.png" class="pb-3">
            <h3 class="fw-normal mb-0">Are you sure you want to delete this Project?</h3>
          </div>
        </div>

        <div class="modal-footer px-3 py-2 d-flex align-items-center justify-content-center">
          <button type="button" class="btn btn-light cancel-dlt-btn" data-dismiss="modal" (click)="c()">Cancel</button>

          <button type="button" class="btn btn-danger confirm-dlt-btn"
            (click)="deleteProject(projectToDelete!); $event.stopPropagation()">
            <img src="../../../assets/icons/trash.png" width="16">
            Confirm</button>
        </div>

      </div>
    </div>
  </div>
</ng-template>